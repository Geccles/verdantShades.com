<!--DOCTYPE html-->
<html>
<!--The Grape bunch Icon made by Freepik from www.flaticon.com-->
<!--This is for creating the mapMarkers https://mapicons.mapsmarker.com/-->
<!--This is the wesbite I used to get information about the wineries http://www.visitnapavalley.com/wineries_in_napa_valley.htm?Options=115&Options=117-->

<head>
  <title>Wine About It</title>
  <meta name="viewport" content="initial-scale=1.0">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="images/favicon.ico" type="image/x-icon"></link>
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon"></link>
  <link rel="stylesheet" href="/assets/css/font-awesome.min.css"></link>
  <link rel="stylesheet" href="/assets/css/bootstrap.css"></link>
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700' rel='stylesheet' type='text/css'></link>
  <link rel="stylesheet" href="assets/css/style.css"></link>
</head>

<body class="bodyWine wrapper">
  <div id="mapWine">
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <ul class="nav navbar-nav navbar-right home">
          <li><a href="../../">Home</a>
          </li>
        </ul>
        <!--Brand and toggle get grouped for better mobile display-->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".main-nav-collapse">
            <span class="sr-only">Toggle Navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <img src="assets/images/bunch3.png" alt="Grape Bunch Image" class="grapeBunch">
          <span class="titleWine">Wine About It</span>
        </div>
      </div>
    </nav>

    <!--Nav bar on the top-->
    <div class="container-fluid">
      <div class="collapse navbar-collapse main-nav-collapse">
        <div class="row no-gutter">
          <div class="col-xs-3">
            <div class="row">
              <input type="text" class="form-control pull-down search" placeholder="Search..." data-bind="value: filter, valueUpdate: 'afterkeydown'" />
              <br>
            </div>
            <div class="row">
              <div class="col-xs-6">
                <div class="dropdown">
                  <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true"> Town
                    <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu wineTowns" data-bind="foreach: townList">
                    <div class="wineTown" data-bind="text: name, click: clickTown"></div>
                  </ul>
                </div>
              </div>
              <br/>
              <br/>
              <div class="col-xs-3">
                <div data-bind="text: selectedTown"></div>
              </div>
            </div>
            <!-- end row -->

          </div>
          <!--The Winery List in the Menu Nav-->
          <div class="col-xs-6">
            <div data-bind="if: wineryFilter">
              <div class="yes">
                <div id="DocumentList" class="wineryName documentList" data-bind="foreach: filteredItems">
                  <div class="documentItem" data-bind="text: name, click: clickWine"></div>
                </div>
              </div>
            </div>

            <div data-bind="ifnot: wineryFilter">
              <div class="yes">
                <div id="wineryList" class="wineryName documentList" data-bind="foreach: filteredTowns">
                  <div class="winerylist" data-bind="text: name, click: clickWine"></div>
                </div>
              </div>
            </div>
          </div>
          <!--The Weather Section in the Menu Nav-->
          <div id="weather" class="col-xs-3 weatherWine">
            <div class="weatherIcon weatherSection" data-bind="html: icon_url"></div>
            <div class="weatherText weatherSection" data-bind="text: weather"></div>
            <div class="temp weatherSection" data-bind="text: temperature_string"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--Map Section-->
  <div id="map" class="col-md-11 map"></div>

  <script src="assets/js/jquery.min.js"></script>
  <script src="assets/js/knockout-3.4.0.js"></script>
  <script src="/assets/js/bootstrap.min.js"></script>
  <script src="assets/js/infobubble.js"></script>
  <script src="assets/js/lscache.js"></script>
  <script src="assets/js/script.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBJLbZbK29zCw1xaxKWU1S0mDmIl8OA-5A&callback=loadMyData" async onerror="googleError()"></script>

  <script>
    //make top text appear aligned to bottom:
    //http://stackoverflow.com/questions/13841387/how-do-i-bottom-align-grid-elements-in-bootstrap-fluid-layout
    ! function($) { //ensure $ always references jQuery
      $(function() { //when dom has finished loading
        function fixHeader() {
          //for each element that is classed as 'pull-down'
          //reset margin-top for all pull down items
          $('.pull-down').each(function() {
            $(this).css('margin-top', 0);
          });

          //set its margin-top to the difference between its own height and the height of its parent
          $('.pull-down').each(function() {
            if ($(window).innerWidth() >= 768) {
              $(this).css('margin-top', $(this).parent().height() - $(this).height());
            } else {
              $(this).css('margin-top', 20);
            }
          });
        }

        $(window).resize(function() {
          fixHeader();
        });

        fixHeader();
      });
    }(window.jQuery);
  </script>
</body>

</html>
